#+title: postgresql
* getting started
** installation
 - /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
 - brew install postgresql
 - brew services start postgresql
 - createuser -s postgres
 - psql postgres | command line interface 
 - brew services stop postgresql
** basic commands
 - psql -U username -d database_name | connect to a database 
 - \l | list all databases
 - \dt | list all tables in the current database
 - \d table_name | describe a table
 - \q | exit psql
** database management
 - CREATE DATABASE database_name;
 - DROP DATABASE database_name;
** user management
 - CREATE USER username WITH PASSWORD 'password';
 - GRANT ALL PRIVILEGES ON DATABASE database_name TO username;
 - ALTER USER username WITH PASSWORD 'new_password';
** table management
 - CREATE TABLE table_name (
       column1_name data_type,
       column2_name data_type,
       ...
   );
 - DROP TABLE table_name;
 - INSERT INTO table_name (column1, column2) VALUES (value1, value2);
 - UPDATE table_name SET column1 = value1 WHERE condition;
 - DELETE FROM table_name WHERE condition;
** querying data
 - SELECT * FROM table_name;
 - SELECT column1, column2 FROM table_name;
 - SELECT * FROM table_name WHERE condition;
 - SELECT * FROM table_name ORDER BY column_name ASC|DESC;
 - SELECT * FROM table1
   JOIN table2 ON table1.common_column = table2.common_column;
** joins
 - inner join | returns only the rows that have matching values in both tables
   SELECT columns
   FROM table1
   INNER JOIN table2 ON table1.common_column = table2.common_column;
 - Left Join (or Left Outer Join) - returns all rows from the left table and the matched rows from the right table.
   If there is no match, the result is NULL on the side of the right table
   SELECT columns
   FROM table1
   LEFT JOIN table2 ON table1.common_column = table2.common_column;
 - Right Join (or Right Outer Join) - returns all rows from the right table and the matched rows from the left table.
   If there is no match, the result is NULL on the side of the left table.
   SELECT columns
   FROM table1
   RIGHT JOIN table2 ON table1.common_column = table2.common_column;
 - Full Join (or Full Outer Join) - returns all rows when there is a match in either left or right table records.
   If there is no match, the result is NULL from the side that does not have a matc
   SELECT columns
   FROM table1
   FULL JOIN table2 ON table1.common_column = table2.common_column;
 - Cross Join - returns the Cartesian product of the two tables, meaning it returns all possible combinations of rows from the tables
   SELECT columns
   FROM table1
   CROSS JOIN table2;
 - Self Join - a regular join but the table is joined with itself.
   This is useful for comparing rows within the same table.
   SELECT a.columns, b.columns
   FROM table a, table b
   WHERE a.common_column = b.common_column;
 - Natural Join - based on all columns in the two tables that have the same name and selects rows with equal values in the relevant columns.
   SELECT columns
   FROM table1
   NATURAL JOIN table2;
 - Using Clause - a shorthand for specifying the columns to join on when the column names are the same in both tables.
   SELECT columns
   FROM table1
   JOIN table2 USING (common_column);
 
 
